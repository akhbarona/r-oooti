(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{44:function(e,t,n){},45:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n(24),a=n.n(r),s=(n(44),n(45),n(11)),i=n(9),o=n(74),l=n(75),d=n(76),j=n(77),u=n(78),b=n(79),h=n(80),p=n(81),O=n(82),x=n(83),m=n(4),f=n(7),v=n.n(f),g=n(13),y=n(12),S=n.n(y),E="PRODUCT_LIST_REQUEST",N="PRODUCT_LIST_SUCCESS",I="PRODUCT_LIST_FAIL",k="PRODUCT_DETAILS_REQUEST",C="PRODUCT_DETAILS_SUCCESS",_="PRODUCT_DETAILS_FAIL",R="PRODUCT_SAVE_REQUEST",w="PRODUCT_SAVE_SUCCESS",D="PRODUCT_SAVE_FAIL",T="PRODUCT_DELETE_REQUEST",A="PRODUCT_DELETE_SUCCESS",L="PRODUCT_DELETE_FAIL",U=function(){return function(){var e=Object(g.a)(v.a.mark((function e(t){var n,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:E}),e.next=4,S.a.get("/api/products");case 4:n=e.sent,c=n.data,t({type:N,payload:c}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:I,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},P=(n(68),n(0));var F=function(e){var t=Object(m.c)((function(e){return e.productList})),n=t.products,r=t.loading,a=t.error,i=Object(m.b)();return Object(c.useEffect)((function(){return i(U()),function(){}}),[i]),r?Object(P.jsx)("div",{children:"Loading..."}):a?Object(P.jsx)("div",{children:a}):Object(P.jsx)("div",{className:"isi",children:Object(P.jsx)(o.a,{children:Object(P.jsx)(l.a,{children:n.map((function(e){return Object(P.jsx)(d.a,{md:3,children:Object(P.jsxs)(j.a,{children:[Object(P.jsx)(u.a,{top:!0,width:"100%",src:e.image,alt:"Card image cap"}),Object(P.jsxs)(b.a,{children:[Object(P.jsx)(h.a,{tag:"h5",children:e.name}),Object(P.jsx)(p.a,{tag:"h6",className:"mb-2 text-muted",children:e.category}),Object(P.jsx)(O.a,{children:e.description}),Object(P.jsx)(s.b,{to:"/product/"+e._id,children:Object(P.jsx)(x.a,{children:"Lihat"})})]})]},e._id)})}))})})})},B=n(19),J=n(8);var Q=function(e){var t=Object(c.useState)(1),n=Object(J.a)(t,2),r=n[0],a=n[1],s=Object(m.c)((function(e){return e.productDetails})),i=s.product,o=s.loading,l=s.error,d=Object(m.b)();return Object(c.useEffect)((function(){var t;return d((t=e.match.params.id,function(){var e=Object(g.a)(v.a.mark((function e(n){var c,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:k,payload:t}),e.next=4,S.a.get("/api/products/"+t);case 4:c=e.sent,r=c.data,n({type:C,payload:r}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:_,payload:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())),function(){}}),[d,e]),Object(P.jsx)("div",{children:o?Object(P.jsx)("div",{children:"Loading..."}):l?Object(P.jsxs)("div",{children:[l," "]}):Object(P.jsxs)("div",{className:"details",children:[Object(P.jsx)("div",{className:"details-image",children:Object(P.jsx)("img",{src:i.image,alt:"produk"})}),Object(P.jsxs)("div",{className:"product-detail",children:[Object(P.jsx)("div",{className:"details-info",children:Object(P.jsxs)("ul",{children:[Object(P.jsx)("li",{children:Object(P.jsx)("h4",{children:i.name})}),"Deskripsi:",Object(P.jsx)("li",{className:"details-description",children:i.description})]})}),Object(P.jsx)("div",{className:"details-action",children:Object(P.jsxs)("ul",{children:[Object(P.jsxs)("li",{children:["Harga: ",Object(P.jsxs)("b",{children:["Rp ",i.price]})]}),Object(P.jsxs)("li",{children:["Status:"," ",i.countInStock>0?"In Stock":"Unavailable."]}),Object(P.jsxs)("li",{children:["Jumlah: ",Object(P.jsx)("select",{value:r,onChange:function(e){a(e.target.value)},children:Object(B.a)(Array(i.countInStock).keys()).map((function(e){return Object(P.jsx)("option",{value:e+1,children:e+1},e+1)}))})]}),Object(P.jsx)("li",{children:i.countInStock>0&&Object(P.jsx)("button",{onClick:function(){e.history.push("/cart/"+e.match.params.id+"?qty="+r)},className:"button primary",children:"Tambah ke keranjang"})})]})})]})]})})},G=n(18),q=n.n(G),z="CART_ADD_ITEM",V="CART_REMOVE_ITEM",K="CART_SAVE_SHIPPING",M="CART_SAVE_PAYMENT",H=function(e,t){return function(){var n=Object(g.a)(v.a.mark((function n(c,r){var a,s,i,o;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S.a.get("/api/products/"+e);case 3:a=n.sent,s=a.data,c({type:z,payload:{product:s._id,name:s.name,image:s.image,price:s.price,countInStock:s.countInStock,qty:t}}),i=r(),o=i.cart.cartItems,q.a.set("cartItems",JSON.stringify(o)),n.next=12;break;case 10:n.prev=10,n.t0=n.catch(0);case 12:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e,t){return n.apply(this,arguments)}}()};var X=function(e){var t=Object(m.c)((function(e){return e.cart})).cartItems,n=e.match.params.id,r=e.location.search?Number(e.location.search.split("=")[1]):1,a=Object(m.b)(),i=function(e){a(function(e){return function(t,n){t({type:V,payload:e});var c=n().cart.cartItems;q.a.set("cartItems",JSON.stringify(c))}}(e))};return Object(c.useEffect)((function(){n&&a(H(n,r))}),[a,n,r]),Object(P.jsxs)("div",{className:"cart",children:[Object(P.jsx)("div",{className:"cart-list",children:Object(P.jsxs)("ul",{className:"cart-list-container",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("h3",{children:"Keranjang Belanja"}),Object(P.jsx)("div",{children:"Harga"})]}),0===t.length?Object(P.jsx)("div",{children:"Keranjang Belanja Kosong"}):t.map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"cart-image",children:Object(P.jsx)("img",{src:e.image,alt:"product"})}),Object(P.jsxs)("div",{className:"cart-name",children:[Object(P.jsx)("div",{children:Object(P.jsx)(s.b,{to:"/product/"+e.product,children:e.name})}),Object(P.jsxs)("div",{children:["Jumlah:",Object(P.jsx)("select",{value:e.qty,onChange:function(t){return a(H(e.product,Number(t.target.value)))},children:Object(B.a)(Array(e.countInStock).keys()).map((function(e){return Object(P.jsx)("option",{value:e+1,children:e+1},e+1)}))}),Object(P.jsx)("button",{type:"button",className:"button secondary",onClick:function(){return i(e.product)},children:"Delete"})]})]}),Object(P.jsxs)("div",{className:"cart-price",children:["Rp ",e.price]})]},e.product)}))]})}),Object(P.jsxs)("div",{className:"cart-action",children:[Object(P.jsxs)("h3",{children:["Total (",t.reduce((function(e,t){return e+t.qty}),0)," items) : Rp ",t.reduce((function(e,t){return e+t.price*t.qty}),0)]}),Object(P.jsx)("button",{onClick:function(){e.history.push("/login?redirect=shipping")},className:"button primary full-width",disabled:0===t.length,children:"Lanjutkan Untuk Proses Checkout"})]})]})},Y="USER_SIGNIN_REQUEST",$="USER_SIGNIN_SUCCESS",W="USER_SIGNIN_FAIL",Z="USER_REGISTER_REQUEST",ee="USER_REGISTER_SUCCESS",te="USER_REGISTER_FAIL",ne="USER_LOGOUT",ce=function(){return function(e){q.a.remove("userInfo"),e({type:ne})}};var re=function(e){var t=Object(c.useState)(""),n=Object(J.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(""),o=Object(J.a)(i,2),l=o[0],d=o[1],j=Object(m.c)((function(e){return e.userSignin})),u=j.loading,b=j.userInfo,h=j.error,p=Object(m.b)(),O=e.location.search?e.location.search.split("=")[1]:"/";return Object(c.useEffect)((function(){return b&&e.history.push(O),function(){}}),[b,e,O]),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault(),p(function(e,t){return function(){var n=Object(g.a)(v.a.mark((function n(c){var r,a;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c({type:Y,payload:{email:e,password:t}}),n.prev=1,n.next=4,S.a.post("/api/users/signin",{email:e,password:t});case 4:r=n.sent,a=r.data,c({type:$,payload:a}),q.a.set("userInfo",JSON.stringify(a)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(1),c({type:W,payload:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(e){return n.apply(this,arguments)}}()}(r,l))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Login"})}),Object(P.jsxs)("li",{children:[u&&Object(P.jsx)("div",{children:"Loading..."}),h&&Object(P.jsx)("div",{children:h})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email"}),Object(P.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return a(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password"}),Object(P.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return d(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"LOGIN"})}),Object(P.jsx)("li",{children:"Don't have an account?"}),Object(P.jsx)("li",{children:Object(P.jsx)(s.b,{to:"/"===O?"register":"register?redirect="+O,className:"button secondary text-center",children:"Create your account"})})]})})})};var ae=function(e){var t=Object(c.useState)(""),n=Object(J.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)(""),o=Object(J.a)(i,2),l=o[0],d=o[1],j=Object(c.useState)(""),u=Object(J.a)(j,2),b=u[0],h=u[1],p=Object(m.c)((function(e){return e.userRegister})),O=p.loading,x=p.userInfo,f=p.error,y=Object(m.b)(),E=e.location.search?e.location.search.split("=")[1]:"/";return Object(c.useEffect)((function(){return x&&e.history.push(E),function(){}}),[x,e,E]),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){e.preventDefault(),y(function(e,t,n){return function(){var c=Object(g.a)(v.a.mark((function c(r){var a,s;return v.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r({type:Z,payload:{name:e,email:t,password:n}}),c.prev=1,c.next=4,S.a.post("/api/users/register",{name:e,email:t,password:n});case 4:a=c.sent,s=a.data,r({type:ee,payload:s}),q.a.set("userInfo",JSON.stringify(s)),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),r({type:te,payload:c.t0.message});case 13:case"end":return c.stop()}}),c,null,[[1,10]])})));return function(e){return c.apply(this,arguments)}}()}(r,l,b))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Create Account"})}),Object(P.jsxs)("li",{children:[O&&Object(P.jsx)("div",{children:"Loading..."}),f&&Object(P.jsx)("div",{children:f})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{type:"name",name:"name",id:"name",onChange:function(e){return a(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"email",children:"Email"}),Object(P.jsx)("input",{type:"email",name:"email",id:"email",onChange:function(e){return d(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"password",children:"Password"}),Object(P.jsx)("input",{type:"password",id:"password",name:"password",onChange:function(e){return h(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Register"})}),Object(P.jsxs)("li",{children:["Already have an account?",Object(P.jsx)(s.b,{to:"/"===E?"login":"signin?redirect="+E,className:"button secondary text-center",children:"Login"})]})]})})})};var se=function(e){var t=Object(c.useState)(!1),n=Object(J.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(J.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(""),j=Object(J.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(""),p=Object(J.a)(h,2),O=p[0],x=p[1],f=Object(c.useState)(""),y=Object(J.a)(f,2),E=y[0],N=y[1],I=Object(c.useState)(""),k=Object(J.a)(I,2),C=k[0],_=k[1],F=Object(c.useState)(""),B=Object(J.a)(F,2),Q=B[0],G=B[1],q=Object(c.useState)(""),z=Object(J.a)(q,2),V=z[0],K=z[1],M=Object(c.useState)(!1),H=Object(J.a)(M,2),X=H[0],Y=H[1],$=Object(m.c)((function(e){return e.productList})).products,W=Object(m.c)((function(e){return e.productSave})),Z=W.loading,ee=W.success,te=W.error,ne=Object(m.c)((function(e){return e.productDelete})).success,ce=Object(m.b)();Object(c.useEffect)((function(){return ee&&a(!1),ce(U()),function(){}}),[ee,ne,ce]);var re=function(e){a(!0),l(e._id),b(e.name),x(e.price),K(e.description),N(e.image),_(e.category),G(e.countInStock)},ae=function(e){var t;ce((t=e._id,function(){var e=Object(g.a)(v.a.mark((function e(n,c){var r,a,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=c(),a=r.userSignin.userInfo,n({type:T,payload:t}),e.next=5,S.a.delete("/api/products/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,n({type:A,payload:i,success:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:L,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()))},se=Object(m.c)((function(e){return e.userSignin})).userInfo;return Object(P.jsxs)("div",{className:"content content-margined",children:[Object(P.jsxs)("div",{className:"product-header",children:[Object(P.jsx)("h3",{children:"Products"}),Object(P.jsx)("button",{className:"button primary",onClick:function(){return re({})},children:"Create Product"})]}),r&&Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(e){var t;e.preventDefault(),ce((t={_id:o,name:u,price:O,image:E,category:C,countInStock:Q,description:V},function(){var e=Object(g.a)(v.a.mark((function e(n,c){var r,a,s,i,o,l;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,n({type:R,payload:t}),r=c(),a=r.userSignin.userInfo,t._id){e.next=11;break}return e.next=6,S.a.post("/api/products",t,{headers:{Authorization:"Bearer "+a.token}});case 6:s=e.sent,i=s.data,n({type:w,payload:i}),e.next=16;break;case 11:return e.next=13,S.a.put("/api/products/"+t._id,t,{headers:{Authorization:"Bearer "+a.token}});case 13:o=e.sent,l=o.data,n({type:w,payload:l});case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(0),n({type:D,payload:e.t0.message});case 21:case"end":return e.stop()}}),e,null,[[0,18]])})));return function(t,n){return e.apply(this,arguments)}}()))},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Buat produk"})}),Object(P.jsxs)("li",{children:[Z&&Object(P.jsx)("div",{children:"Loading..."}),te&&Object(P.jsx)("div",{children:te})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Name"}),Object(P.jsx)("input",{type:"text",name:"name",value:u,id:"name",onChange:function(e){return b(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"price",children:"Price"}),Object(P.jsx)("input",{type:"text",name:"price",value:O,id:"price",onChange:function(e){return x(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"image",children:"Image"}),Object(P.jsx)("input",{type:"text",name:"image",value:E,id:"image",onChange:function(e){return N(e.target.value)}}),Object(P.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0],n=new FormData;n.append("image",t),Y(!0),S.a.post("/api/uploads",n,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer ".concat(se.token)}}).then((function(e){N(e.data),Y(!1)})).catch((function(e){console.log(e),Y(!1)}))}}),X&&Object(P.jsx)("div",{children:"Uploading..."})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"countInStock",children:"CountInStock"}),Object(P.jsx)("input",{type:"text",name:"countInStock",value:Q,id:"countInStock",onChange:function(e){return G(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"name",children:"Category"}),Object(P.jsx)("input",{type:"text",name:"category",value:C,id:"category",onChange:function(e){return _(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"description",children:"Description"}),Object(P.jsx)("textarea",{name:"description",value:V,id:"description",onChange:function(e){return K(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:o?"Update":"Create"})}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"button",onClick:function(){return a(!1)},className:"button secondary",children:"Back"})})]})})}),Object(P.jsx)("div",{className:"product-list",children:Object(P.jsxs)("table",{className:"table",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"ID"}),Object(P.jsx)("th",{children:"Name"}),Object(P.jsx)("th",{children:"Price"}),Object(P.jsx)("th",{children:"Category"}),Object(P.jsx)("th",{children:"Action"})]})}),Object(P.jsx)("tbody",{children:$.map((function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e._id}),Object(P.jsx)("td",{children:e.name}),Object(P.jsx)("td",{children:e.price}),Object(P.jsx)("td",{children:e.category}),Object(P.jsxs)("td",{children:[Object(P.jsx)("button",{className:"button",onClick:function(){return re(e)},children:"Edit"})," ",Object(P.jsx)("button",{className:"button",onClick:function(){return ae(e)},children:"Delete"})]})]},e._id)}))})]})})]})};var ie=function(e){var t=Object(m.b)();return Object(c.useEffect)((function(){return function(){}}),[]),Object(P.jsx)("div",{className:"profile",children:Object(P.jsx)("div",{className:"profile-info",children:Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"User Profile"})}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"button",onClick:function(){t(ce()),e.history.push("/login")},className:"button secondary full-width",children:"Logout"})})]})})})})})};var oe=function(e){return Object(P.jsxs)("div",{className:"checkout-steps",children:[Object(P.jsx)("div",{className:e.step1?"active":"",children:"Signin"}),Object(P.jsx)("div",{className:e.step2?"active":"",children:"Shipping"}),Object(P.jsx)("div",{className:e.step3?"active":"",children:"Payment"})]})};var le=function(e){var t=Object(c.useState)(""),n=Object(J.a)(t,2),r=n[0],a=n[1],s=Object(c.useState)(""),i=Object(J.a)(s,2),o=i[0],l=i[1],d=Object(c.useState)(""),j=Object(J.a)(d,2),u=j[0],b=j[1],h=Object(c.useState)(""),p=Object(J.a)(h,2),O=p[0],x=p[1],f=Object(m.b)();return Object(P.jsxs)("div",{children:[Object(P.jsx)(oe,{step1:!0,step2:!0}),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{onSubmit:function(t){var n;t.preventDefault(),f((n={address:r,city:o,postalCode:u,country:O},function(e){e({type:K,payload:n})})),e.history.push("payment")},children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Shipping"})}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"address",children:"Address"}),Object(P.jsx)("input",{type:"text",name:"address",id:"address",onChange:function(e){return a(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"city",children:"City"}),Object(P.jsx)("input",{type:"text",name:"city",id:"city",onChange:function(e){return l(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"postalCode",children:"Postal Code"}),Object(P.jsx)("input",{type:"text",name:"postalCode",id:"postalCode",onChange:function(e){return b(e.target.value)}})]}),Object(P.jsxs)("li",{children:[Object(P.jsx)("label",{htmlFor:"country",children:"Country"}),Object(P.jsx)("input",{type:"text",name:"country",id:"country",onChange:function(e){return x(e.target.value)}})]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",children:"Continue"})})]})})})]})},de="ORDER_LIST_REQUEST",je="ORDER_LIST_SUCCESS",ue="ORDER_LIST_FAIL",be="ORDER_DELETE_REQUEST",he="ORDER_DELETE_SUCCESS",pe="ORDER_DELETE_FAIL",Oe="ORDER_DETAILS_REQUEST",xe="ORDER_DETAILS_SUCCESS",me="ORDER_DETAILS_FAIL";var fe=function(){var e=Object(m.c)((function(e){return e.cart})),t=Object(m.b)(),n=e.cartItems,c=e.shipping,r=n.reduce((function(e,t){return e+t.price*t.qty}),0),a=n.reduce((function(e,t){return e+t.qty}),0);return Object(P.jsxs)("div",{children:[Object(P.jsx)(oe,{step1:!0,step2:!0,step3:!0}),Object(P.jsx)("div",{className:"form",children:Object(P.jsx)("form",{action:"https://wa.me/6281258655551",children:Object(P.jsxs)("ul",{className:"form-container",children:[Object(P.jsx)("li",{children:Object(P.jsx)("h2",{children:"Payment"})}),Object(P.jsx)("li",{children:Object(P.jsx)("p",{children:"Jika sudah yakin dengan pesanan anda maka lakukan pembayaran melalui rekening bank dibawah ini. Jika sudah melakukan pembayaran sertakan bukti kirim melalui tombol dibawah ini"})}),Object(P.jsxs)("li",{children:[Object(P.jsx)("b",{children:"Bank BRI."}),"Atas Nama : Akhbarona Syanulin",Object(P.jsx)("br",{}),"Nomor Rekening : 137 000 591 8319"]}),Object(P.jsx)("li",{children:Object(P.jsx)("button",{type:"submit",className:"button primary",onClick:function(){var e;t((e={orderItems:n,totalPrice:r,items:a,address:c},function(){var t=Object(g.a)(v.a.mark((function t(n,c){var r,a,s,i;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=c(),a=r.userSignin.userInfo,t.next=4,S.a.post("/api/orders",e,{headers:{Authorization:"Bearer ".concat(a.token)}});case 4:s=t.sent,i=s.data,n({type:"ORDER_CREATE_SUCCESS",payload:i.order}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:"ORDER_CREATE_FAIL",payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}()))},children:"Kirim bukti bayar"})})]})})})]})};var ve=function(e){var t=Object(m.c)((function(e){return e.orderList})),n=t.loading,r=t.orders,a=Object(m.c)((function(e){return e.orderDelete})).success,i=Object(m.b)();Object(c.useEffect)((function(){return i(function(){var e=Object(g.a)(v.a.mark((function e(t,n){var c,r,a,s;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:de}),c=n(),r=c.userSignin.userInfo,e.next=5,S.a.get("/api/orders",{headers:{Authorization:"Bearer "+r.token}});case 5:a=e.sent,s=a.data,t({type:je,payload:s}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:ue,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()),function(){}}),[a,i]);var o=function(e){var t;i((t=e._id,function(){var e=Object(g.a)(v.a.mark((function e(n,c){var r,a,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n({type:be,payload:t}),r=c(),a=r.userSignin.userInfo,e.next=5,S.a.delete("/api/orders/"+t,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,n({type:he,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),n({type:pe,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}()))};return n?Object(P.jsx)("div",{children:"Loading..."}):Object(P.jsxs)("div",{className:"content content-margined",children:[Object(P.jsx)("div",{className:"order-header",children:Object(P.jsx)("h3",{children:"Orders"})}),Object(P.jsx)("div",{className:"order-list",children:Object(P.jsxs)("table",{className:"table",children:[Object(P.jsx)("thead",{children:Object(P.jsxs)("tr",{children:[Object(P.jsx)("th",{children:"ID"}),Object(P.jsx)("th",{children:"DATE"}),Object(P.jsx)("th",{children:"TOTAL"}),Object(P.jsx)("th",{children:"USER"}),Object(P.jsx)("th",{children:"ACTIONS"})]})}),Object(P.jsx)("tbody",{children:r.map((function(e){return Object(P.jsxs)("tr",{children:[Object(P.jsx)("td",{children:e._id}),Object(P.jsx)("td",{children:e.createdAt}),Object(P.jsx)("td",{children:e.totalPrice}),Object(P.jsx)("td",{children:e.user.name}),Object(P.jsxs)("td",{children:[Object(P.jsx)(s.b,{to:"/order/"+e._id,className:"button secondary",children:"Details"})," ",Object(P.jsx)("button",{type:"button",onClick:function(){return o(e)},className:"button secondary",children:"Delete"})]})]},e._id)}))})]})})]})};var ge=function(e){var t=Object(m.b)();Object(c.useEffect)((function(){var n;return t((n=e.match.params.id,function(){var e=Object(g.a)(v.a.mark((function e(t,c){var r,a,s,i;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:Oe,payload:n}),r=c(),a=r.userSignin.userInfo,e.next=5,S.a.get("/api/orders/"+n,{headers:{Authorization:"Bearer "+a.token}});case 5:s=e.sent,i=s.data,t({type:xe,payload:i}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),t({type:me,payload:e.t0.message});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n){return e.apply(this,arguments)}}())),function(){}}),[t,e]);var n=Object(m.c)((function(e){return e.orderDetails})),r=n.loading,a=n.order,s=n.error;return r?Object(P.jsx)("div",{children:"Loading ..."}):s?Object(P.jsx)("div",{children:s}):Object(P.jsx)("div",{children:Object(P.jsx)("div",{className:"placeorder",children:Object(P.jsxs)("div",{className:"placeorder-info",children:[Object(P.jsxs)("div",{children:[Object(P.jsx)("h3",{children:"Pengiriman ke"}),Object(P.jsxs)("div",{children:[a.shippingAddress.address,", ",a.shippingAddress.city,",",a.shippingAddress.postalCode,", ",a.shippingAddress.country,","]})]}),Object(P.jsx)("div",{children:Object(P.jsxs)("ul",{className:"cart-list-container",children:[Object(P.jsxs)("li",{children:[Object(P.jsx)("h3",{children:"Keranjang Belanja"}),Object(P.jsx)("div",{children:"Price"})]}),0===a.orderItems.length?Object(P.jsx)("div",{children:"Cart is empty"}):a.orderItems.map((function(e){return Object(P.jsxs)("li",{children:[Object(P.jsx)("div",{className:"cart-image",children:Object(P.jsx)("img",{src:e.image,alt:"product"})}),Object(P.jsxs)("div",{className:"cart-name",children:[Object(P.jsx)("div",{children:e.name}),Object(P.jsxs)("div",{children:["Qty: ",e.qty]})]}),Object(P.jsxs)("div",{className:"cart-price",children:["$",e.price]})]},e._id)}))]})})]})})})};var ye=function(){var e=Object(m.c)((function(e){return e.cart})),t=Object(m.c)((function(e){return e.userSignin})).userInfo,n=e.cartItems,c=Object(m.b)();return Object(P.jsx)(s.a,{children:Object(P.jsxs)("div",{className:"grid-container",children:[Object(P.jsxs)("header",{className:"header",children:[Object(P.jsx)("div",{className:"brand",children:Object(P.jsxs)(s.b,{to:"/",children:["R-",Object(P.jsx)("span",{children:"oooti"})]})}),Object(P.jsxs)("div",{className:"header-links",children:[Object(P.jsxs)(s.b,{to:"/cart",children:["Cart",n.length>0&&Object(P.jsx)("span",{className:"badge",children:n.length})]}),t?Object(P.jsxs)("div",{className:"dropdown",children:[Object(P.jsx)(s.b,{to:"/profile",children:t.name}),Object(P.jsx)("ul",{className:"dropdown-content",children:Object(P.jsx)("li",{children:Object(P.jsx)(s.b,{to:"/",onClick:function(){c(ce())},children:"Sign Out"})})})]}):(s.b,Object(P.jsx)(s.b,{to:"/login",children:"Login"})),t&&t.isAdmin&&Object(P.jsxs)("div",{className:"dropdown",children:[Object(P.jsxs)(s.b,{to:"#admin",children:["Admin ",Object(P.jsx)("i",{className:"fa fa-caret-down"})]}),Object(P.jsx)("ul",{className:"dropdown-content",children:Object(P.jsxs)("li",{children:[Object(P.jsx)(s.b,{to:"/orders",children:"Orders"}),Object(P.jsx)(s.b,{to:"/products",children:"Products"})]})})]})]})]}),Object(P.jsx)("main",{className:"main",children:Object(P.jsxs)("div",{className:"content",children:[Object(P.jsx)(i.a,{path:"/order/:id",component:ge}),Object(P.jsx)(i.a,{path:"/orders",component:ve}),Object(P.jsx)(i.a,{path:"/payment",component:fe}),Object(P.jsx)(i.a,{path:"/shipping",component:le}),Object(P.jsx)(i.a,{path:"/profile",component:ie}),Object(P.jsx)(i.a,{path:"/products",component:se}),Object(P.jsx)(i.a,{path:"/register",component:ae}),Object(P.jsx)(i.a,{path:"/login",component:re}),Object(P.jsx)(i.a,{path:"/cart/:id?",component:X}),Object(P.jsx)(i.a,{path:"/product/:id",component:Q}),Object(P.jsx)(i.a,{path:"/",exact:!0,component:F})]})}),Object(P.jsxs)("footer",{className:"footer",children:[Object(P.jsx)("p",{children:"Hubungi Kami"}),"\xa9",(new Date).getFullYear()," BerkahStartUp Development"]})]})})},Se=n(22);var Ee=n(39),Ne=n(23);var Ie={cart:{cartItems:q.a.getJSON("cartItems")||[]},userSignin:{userInfo:q.a.getJSON("userInfo")||null}},ke=Object(Se.b)({productList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return{loading:!0,products:[]};case N:return{loading:!1,products:t.payload};case I:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0};case C:return{loading:!1,product:t.payload};case _:return{loading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shipping:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:var n=t.payload,c=e.cartItems.find((function(e){return e.product===n.product}));return c?{cartItems:e.cartItems.map((function(e){return e.product===c.product?n:e}))}:{cartItems:[].concat(Object(B.a)(e.cartItems),[n])};case V:return{cartItems:e.cartItems.filter((function(e){return e.product!==t.payload}))};case K:return Object(Ne.a)(Object(Ne.a)({},e),{},{shipping:t.payload});case M:return Object(Ne.a)(Object(Ne.a)({},e),{},{payment:t.payload});default:return e}},userSignin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case $:return{loading:!1,userInfo:t.payload};case W:return{loading:!1,error:t.payload};case ne:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Z:return{loading:!0};case ee:return{loading:!1,userInfo:t.payload};case te:return{loading:!1,error:t.payload};default:return e}},productSave:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case w:return{loading:!1,success:!0,product:t.payload};case D:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T:return{loading:!0};case A:return{loading:!1,product:t.payload,success:!0};case L:return{loading:!1,error:t.payload};default:return e}},orderList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case de:return{loading:!0};case je:return{loading:!1,orders:t.payload};case ue:return{loading:!1,error:t.payload};default:return e}},orderDelete:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case he:return{loading:!1,success:!0};case pe:return{loading:!1,error:t.payload};default:return e}},orderDetails:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{order:{orderItems:[],shipping:{},payment:{}}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Oe:return{loading:!0};case xe:return{loading:!1,order:t.payload};case me:return{loading:!1,error:t.payload};default:return e}}}),Ce=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Se.c,_e=Object(Se.d)(ke,Ie,Ce(Object(Se.a)(Ee.a)));a.a.render(Object(P.jsx)(m.a,{store:_e,children:Object(P.jsx)(ye,{})}),document.getElementById("root"))}},[[72,1,2]]]);
//# sourceMappingURL=main.28132965.chunk.js.map